<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <title>Formulario</title>
  <!-- Building blocks -->
  <link rel="stylesheet" href="../style/confirms.css">
  <link rel="stylesheet" href="../style/action_menu.css">
  <link rel="stylesheet" href="../style/buttons.css">
  <link rel="stylesheet" href="../style/confirm.css">
  <link rel="stylesheet" href="../style/edit_mode.css">
  <link rel="stylesheet" href="../style/headers.css">
  <link rel="stylesheet" href="../style/input_areas.css">
  <link rel="stylesheet" href="../style/status.css">
  <link rel="stylesheet" href="../style/switches.css">
  <link rel="stylesheet" href="../style_unstable/drawer.css">
  <link rel="stylesheet" href="../style_unstable/lists.css">
  <link rel="stylesheet" href="../style_unstable/progress_activity.css">
  <link rel="stylesheet" href="../style_unstable/scrolling.css">
  <link rel="stylesheet" href="../style_unstable/seekbars.css">
  <link rel="stylesheet" href="../style_unstable/tabs.css">
  <link rel="stylesheet" href="../style_unstable/toolbars.css">
  <link rel="stylesheet" href="../style_unstable/value_selector.css">

  <!-- leaf -->
  <link rel="stylesheet" href="../style/leaflet.css">

  <!-- Icons -->
  <link rel="stylesheet" href="../icons/styles/action_icons.css">
  <link rel="stylesheet" href="../icons/styles/media_icons.css">
  <link rel="stylesheet" href="../icons/styles/comms_icons.css">
  <link rel="stylesheet" href="../icons/styles/settings_icons.css">

  <!-- Transitions -->
  <link rel="stylesheet" href="../transitions.css">
  
  <!-- Util CSS: some extra tricks -->
  <link rel="stylesheet" href="../util.css">
  <link rel="stylesheet" href="../fonts.css">

  <style>
    #index {
      height: 100%;
    }
    [data-position="right"] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      transform: translateX(100%);
      -webkit-transform: translateX(100%);
      z-index: 15;
      z-index: 100; /* -> drawer */
    }
    section[role="region"][data-position="right"] {
      position: absolute;
    }
    [data-position="right"].current {
      animation: rightToCurrent 0.4s forwards;
      -webkit-animation: rightToCurrent 0.4s forwards;
    }
    [data-position="right"].right {
      animation: currentToRight 0.4s forwards;
      -webkit-animation: currentToRight 0.4s forwards;
    }
    [data-position="current"].left {
      animation: currentToLeft 0.4s forwards;
      -webkit-animation: currentToLeft 0.4s forwards;
    }
    [data-position="current"].current {
      animation: leftToCurrent 0.4s forwards;
      -webkit-animation: leftToCurrent 0.4s forwards;
    }
    [data-position="back"] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: -1;
      opacity: 0;
      /* z-index: 100; -> drawer */
    }
    [data-position="back"].fade-in {
      z-index: 120;
      animation: fadeIn 0.2s forwards;
      -webkit-animation: fadeIn 0.2s forwards;
    }
    [data-position="back"].fade-out {
      animation: fadeOut 0.2s forwards;
      -webkit-animation: fadeOut 0.2s forwards;
    }

    [data-position="edit-mode"] {
      position: absolute;
      top: -5rem;
      left: 0;
      right: 0;
      bottom: -7rem;
      z-index: -1;
      opacity: 0;
      transition: all 0.3s ease;
    }
    [data-position="edit-mode"].edit {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 120;
      opacity: 1;
    }

    /* Headers */
    #headers section[role="region"] {
      margin-bottom: 1.5rem;
    }
    #headers section[role="region"]:not(#drawer) {
      display: inline;
    }
    #headers article header:first-child {
      margin-top: 1.5rem;
    }
    #headers section[role="region"] header h2 {
      margin: 0 0 1.5rem 0;
    }

    /* Lists */
    /* to avoid double background effect on press */
    [data-type=list] li>a:active { 
      background-color: transparent;
    }

    /* Drawer */
    section[role="region"]:not(#drawer) {
      transition: none;
      left: 0;
      z-index: 0;
      padding-left: 0;
    }
    section[data-type="sidebar"] + section[role="region"] > header:first-child > button, 
    section[data-type="sidebar"] + section[role="region"] > header:first-child > a {
      background-position: 3.5rem center;
    }

    /* Switches */
    #switches label:last-child {
      margin-left: 2rem;  
    }

    /* Scrolling */
    nav[data-type="scrollbar"] {
      padding-top: 1rem;
    }
    nav[data-type="scrollbar"] p {
      opacity: 1;
    }

    /* Seek bars */
    div[role="slider"] > label.icon {
      background: no-repeat right top;
      background-size: 3rem auto;
    }
    
    /* Tabs */
    #tabs .content {
      padding: 0;
    }
    #tabs .content .content {
      padding: 1.5rem 3rem;
    }

    /* Filters */
    [role="tablist"][data-type="filter"] {
      margin-bottom: 2rem;
    }

    .bottom[role="tablist"][data-type="filter"] {
      bottom: auto;
    }

    /* Device rotation */
    .landscape section[role="region"]#drawer > header:first-child {
      /* Whatever needs to be changed on landscape */
    }
  </style>
</head>
<body>
	<section id="drawer" role="region">
      <header class="fixed">
      <a id="btn-input-areas-back" href="../index.html"><span class="icon icon-back">back</span></a>
      <h1>Ubicar oficina</h1>
    </header>
      <article class="content scrollable header">
        <section data-type="list">
          <ul>
            <li>
              <a href="#" id="venustiano" data-image="../images/maps/venus.png" data-x="40.1" data-y="-6.3">
                <p>México D.F.</p>
                <p>Calle Centenario, del. Venustiano Carranza</p>
              </a>
            </li>
            <li>
              <a href="#">
                <p>Querétaro</p>
                <p>Calle 2 de Noviembre, col. Corregidora</p>
              </a>
            </li>
             <li>
              <a href="#">
                <p>Nuevo León</p>
                <p>Calle fundidora, col. Nuevo México</p>
              </a>
            </li>
             <li>
              <a href="#">
                <p>Guanajuato</p>
                <p>Calle León, col. Zapatero</p>
              </a>
            </li>
             <li>
              <a href="#">
                <p>Yucatán</p>
                <p>Calle Cobre, col. Zapoteco</p>
              </a>
            </li>
             <li>
              <a href="#">
                <p>Chiapas</p>
                <p>Calle 3 de marzo, col. Centro</p>
              </a>
            </li>
             <li>
              <a href="#">
                <p>Puebla</p>
                <p>Calle Arcoiris, col. Sol</p>
              </a>
            </li>
          </ul>
        </section>
   </article>
   <article id="maps">
      <div id="map"></div>
   </article>
    </section>

    <script type="text/javascript" src="../js/leaflet.js"></script>

    <script type="text/javascript">

      document.querySelector('#venustiano').addEventListener('click', function(){
        var x          = this.getAttribute("data-x"),
            y          = this.getAttribute("data-y"),
            image_path = this.getAttribute("data-image");
        
        var connection = navigator.connection || 
                             navigator.mozConnection || 
                             navigator.webkitConnection;

        var online = connection.bandwidth > 0;

        if(online){

          console.log('Está en línea y se conecta para mostrar el mapa');
          // llama a la api de los mapas para mostrarlo

          var map = L.map('map').setView([51.505, -0.09], 13);
          
          L.tileLayer('http://{s}.tile.cloudmade.com/33b5e39349fd4094bf3b9e20f92b1701/997/256/{z}/{x}/{y}.png', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://cloudmade.com">CloudMade</a>',
    maxZoom: 18
}).addTo(map);
        }else{
          // muestra el mapa de la ruta
        }

        
      });
    </script>

    
	<script type="text/javascript" defer src="../js/status.js"></script>
	<script type="text/javascript" defer src="../js/seekbars.js"></script>
	

</body>
</html>
